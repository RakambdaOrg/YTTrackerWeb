name: Deployment

on:
  push:
  workflow_dispatch:

jobs:
  deployment:
    name: "Deploy YTTrackerWeb"
    uses: RakambdaOrg/rakambda-github-workflows/.github/workflows/sync-ftp.yml@main
    if: ${{ github.ref == format('refs/heads/{0}', github.event.repository.default_branch) }}
    with:
      remote-path: "/www/subdomains/yttracker"
      repository-path: "app/"
      environment: FtpPersonalWebsite
    secrets:
      ftp-host: ${{ secrets.FTP_HOST }}
      ftp-user: ${{ secrets.FTP_USER }}
      ftp-password: ${{ secrets.FTP_PASSWORD }}
